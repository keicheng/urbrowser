"use strict";!function(){var e={root:document.documentElement,getUA:navigator.userAgent.toLowerCase(),getPF:navigator.platform.toLowerCase(),isBuiltInApp:!1,breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200},script:document.currentScript||document.querySelector("#urbrowser")||document.querySelector('script[src*="urbrowser"]'),docSize:{width:function e(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth},height:function e(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},scrSize:{width:function e(){return screen.width},height:function e(){return screen.height}},cache:{},classes:[],originClasses:null,res:{},getNameByAgent:function e(){var t=this.getUA,i=t.match(/msie|iemobile|instagram|line|fbav|twitter|micromessenger|mms|miuibrowser|samsungbrowser|focus|acheetahi|ucbrowser|yabrowser|yolobrowser|firefox|fxios|puffin|mxbrowser|mxios|alohabrowser|kakaotalk|coast|beetalk|vivaldi|cordova|phonegap|react|nodejs|webview/i);return this.isBuiltInApp=/instagram|line|fbav|twitter|micromessenger|kakaotalk|beetalk|cordova|phonegap|react|nodejs|webview/.test(t),i instanceof Array?i[0]:/(?=.*windows)(?=.*rv:)/.test(t)?"rv":/op(r|era|ios|t)/.test(t)?t.match(/op(r|ios|t)/i)?t.match(/op(r|ios|t)/i)[0]:"version":!!/applewebkit/.test(t)&&(/edge/.test(t)?"edge":/edg/.test(t)?"edg":/chrome/.test(t)?"chrome":/crios/.test(t)?"crios":/version/.test(t)?"version":"safari")},getBrowserVersionByName:function e(){var t=this.getUA,i=this.res.getNameByAgent,o=void 0;if(i){var r=i.length,s=t.substr(t.indexOf(i)+r+1,20),n=/[\w\.]*/g;return o=s.match(n)[0],{int:parseInt(o,10),full:o}}},getBrowserWithCoreName:function e(){var t=this.getUA,i=this.res.getNameByAgent,o=i?i.match(/line|fbav|twitter|kakaotalk|micromessenger|beetalk|samsungbrowser|focus|acheetahi|alohabrowser|yabrowser|yolobrowser|mxbrowser|mxios|fxios/i):null,r="webkit",s=i||"unknown",n=this.res.getBrowserVersionByName.int,a="";if(o)s=o[0],s="fbav"===s?"facebook":"samsungbrowser"===s?"samsung":"alohabrowser"===s?"aloha":"yabrowser"===s?"yandex":"yolobrowser"===s?"yolo":"mxbrowser"===s||"mxios"===s?"maxthon":"acheetahi"===s?"armorfly":"fxios"===s?s+" firefox":s,n="twitter"===s?null:n;else switch(!0){case/firefox/.test(i):r=/gecko/.test(t)?"gecko":"webkit";break;case/edge|edg/.test(i):s="edge";break;case/miuibrowser/.test(i):s="miui";break;case/opr|opera|opios|opt|coast|mms/.test(i):s="opera",a="coast"===i?"coast":"mms"===i?"opera-neon":"",r=/applewebkit/.test(t)?"webkit":"presto";break;case/version|chrome|crios|safari/.test(i):console.log(i),s="chrome"===i||"crios"===i?"chrome":"version"===i&&/android/.test(t)?"adrBuiltin":"safari";break;case/msie|rv|iemobile/.test(i):r="ie",s="";break;default:var c=i.match(/cordova|phonegap|react|nodejs|webview/i);r="webkit",c?(-1!==t.indexOf("-android")?s=c+"-adr "+c:-1!==t.indexOf("-ios")&&(s=c+"-ios "+c),n=null):/iemobile|msie/.test(t)?r="ie":/applewebkit/.test(t)&&(/chrome|crios/.test(t)?a="chrome":/version/.test(t)?a+=/android/.test(t)?" adrBuiltin":" safari":a+="safari")}a=/chrome/.test(t)&&!/chrome/.test(a)&&a.length?"chrome":a,a=/^edge$/.test(s)?"":a;var g=s?s.split(" "):null,d=(g?g[0]:r)+n,l=(s||"")+(d?" "+d:"")+(a?" "+a:"")+(r?" "+r:"");return l=l.replace(/^\s+|\s+$/g,""),{origin:s||r,name:d,core:r,addon:a,full:l}},getPlatform:function e(){var t=this.getUA,i=this.getPF,o=i.match(/ipad|ipod|android|nintendo|blackberry|freebsd|openbsd/i);return o instanceof Array?o[0]:/os\/2|pocket pc|win16|win32|win64|wince/.test(i)?/windows ce|windows mobile|windows phone|zunewp|xblwp|iemobile|windows nt 6.[23]; arm/.test(t)?"wp":"windows":/arm/.test(i)?/windows phone|iemobile/.test(t)?"wp":/android/.test(t)?"android":"arm":/linux/.test(i)?/cros/.test(t)?"chromeos":/(?=.*windows)(?=.*mxbrowser)|android/.test(t)?"android":/iphone|pike/.test(t)?"iphone":/ipad/.test(t)?"ipad":/ipod/.test(t)?"ipod":"linux":/iphone|pike/.test(i)?"iphone":/mac|macintel|macintosh|macppc|mac68k/.test(i)?"mac":/x11|hp\-ux/.test(i)?"unix":/sunos/.test(i)?"solaris":/playstation|psp/.test(i)?"playstation":/palmos|webos/.test(i)?"palm":/s60|symbian|\\bseries\\b/.test(i)?"symbian":"unknown"},getOSName:function e(){var t=this.getUA,i=this.res.getPlatform;return/iphone|ipad|ipod/.test(i)?"iOS":"windows"===i&&/windows nt/.test(t)?"Windows":"Linux"===i?/centos/.test(t)?"CentOS":/ubuntu/.test(t)?"Ubuntu":i:i},getOSVersion:function e(){var t=this.getUA,i=this.res.getPlatform,o=/mac|ios/.test(i)?/[\d_]*/g:/[\d\.]*/g,r=this.res.getOSName;r="wp"===r?/windows ce.*(ppc|smartphone|mobile|[0-9]{3}x[0-9]{3})|window mobile|windows phone [0-9.]+|wce;/.test(t)?"windows mobile":"windows phone":"ipad"===i||/ipad/.test(t)?"cpu os":"iphone"===i||/iphone/.test(t)?"iphone os":"ipod"===i||/ipod/.test(t)?"ipod os":"mac"===r?"mac os x":"chromeos"===r?"cros i686":r;var s=r.length,n=t.substr(t.indexOf(r)+s+1,10);return n=n.match(o)[0],n.replace(/[_]+/g,".")},getBrowserName:function e(){var t=this.res.getBrowserWithCoreName;return{name:t.origin,origin:this.originClasses,classes:t.full}},getBrowserFullVersion:function e(){var t=this.res.getBrowserVersionByName;return+t.full?t.full:"unknown"},getDevice:function e(){var t=this.getUA,i=this.res.getPlatform,o=void 0;return o=t.match(/mobile|tablet|phone|android/)?"mobile":"android"===i?"mobile":"desktop"},getOrientation:function e(){var t=this.docSize.width(),i=this.docSize.height(),o=t>=i?"landscape":"portrait";return window.orientation&&(o=90===Math.abs(window.orientation)?"landscape":"portrait"),o},isInApp:function e(){return!!/line|fbav|kakaotalk|micromessenger|twitter|beetalk/.test(this.getUA)&&this.getOSName()},isWebView:function e(){var t=this.getUA,e=!!/cordova|phonegap|react|nodejs|webview/.test(t);return e&&(-1!=t.indexOf("ios")?e="ios":-1!=t.indexOf("android")&&(e="android")),e},getBreakpointRange:function e(){var t=this.breakpoints,i=this.docSize.width();return i>=t.xs&&i<t.sm?"xs":i>=t.sm&&i<t.md?"sm":i>=t.md&&i<t.lg?"md":i>=t.lg&&i<t.xl?"lg":"xl"},cookies:{isEnabled:function e(){var t=navigator.cookieEnabled;return t||(document.cookie="testcookie",t=document.cookie.indexOf("testcookie")>-1),t},get:function e(){for(var t="urbrowser=",i=document.cookie.split(";"),o=[],r=0;r<i.length;r++){for(var s=i[r];" "===s.charAt(0);)s=s.substring(1);0===s.indexOf(t)&&o.push(s.substring(t.length,s.length))}return o.length>0&&o},set:function t(i,o){var r=this;if(r.isEnabled()){r.remove();var s=i.length>0,n="urbrowser="+i,a=s?365:-1,c=location.protocol,g=/([\d]{1,3}\.){1,3}([\d]{1,3})|\:*1/.test(window.location.hostname),d=g?window.location.hostname:e.script.getAttribute("data-domain")||window.location.hostname;a=new Date((new Date).getTime()+864e5*a),n+="; expires="+a.toUTCString()+"; domain="+d+"; path=/",document.cookie=n,o&&/^http/.test(c)&&!e.isBuiltInApp&&!r.get()&&location.reload()}else console.log("Please open browser cookie.")},remove:function e(){document.cookie="urbrowser=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"},rebuild:function e(t){this.remove(),t=JSON.stringify(t),this.set(t,!0)}},storage:{get:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",i=localStorage.getItem("urbrowser");return"json"===t?JSON.parse(i):i},set:function t(i,o){var r=e.script.getAttribute("data-reload");o=!!r&&("true"===r&&o),localStorage.removeItem("urbrowser"),i?(i=JSON.stringify(i),localStorage.setItem("urbrowser",i),e.cookies.set(i,o)):(localStorage.removeItem(),e.cookies.remove())},reset:function t(i){var o=e.script.getAttribute("data-reload"),r=!o||"true"===o;localStorage.removeItem("urbrowser"),e.cookies.remove(),i=JSON.stringify(i),localStorage.setItem("urbrowser",i),e.cookies.set(i,r)}}},t={project:{name:"urBrowser",version:"4.0.6b",author:"Kei Cheng",github:"https://github.com/keicheng/urbrowser",website:"http://urbrowser.kule.tw",facebook:"https://www.facebook.com/kule.tw",cdnjs:"https://cdnjs.com/libraries/kule.lazy",license:"MIT License"},init:function t(){var i=e.cache;e.res.getBreakpointRange=e.getBreakpointRange(),e.res.getOrientation=e.getOrientation();var o=e.res;return i.project=this.project.name,i.version=this.project.version,i.author=this.project.author,i.getNameByAgent=o.getNameByAgent,i.getPlatform=o.getPlatform,i.getBrowserWithCoreName=o.getBrowserWithCoreName,i.getOSName=o.getOSName,i.getBrowserName=o.getBrowserName,i.getBrowserVersion=o.getBrowserVersionByName,i.getDevice=o.getDevice,i.getOrientation=o.getOrientation,i.isInApp=o.isInApp,i.isWebView=o.isWebView,i.getBreakpointRange=o.getBreakpointRange,i.classes=[],i.classes.push(o.getDevice),i.classes.push(o.getBrowserName.classes),o.isInApp&&i.classes.push("inApp"),o.isWebView&&i.classes.push("isWebview"),i.classes=i.classes.join(" "),i},buildBase:function t(i){var o=e.root;i=i||this.init(),o.id=i.getPlatform,o.className=(e.originClasses?e.originClasses+" ":"")+i.classes,o.setAttribute("data-browser-name",i.getBrowserName.name),o.setAttribute("data-browser-version",i.getBrowserVersion.int),o.setAttribute("data-browser-core",i.getBrowserWithCoreName.core),o.setAttribute("data-os-name",i.getOSName),o.setAttribute("data-device",i.getDevice),o.setAttribute("data-bp",i.getBreakpointRange),o.setAttribute("data-inapp",i.isInApp),o.setAttribute("data-webview",i.isWebView),o.setAttribute("data-ub-version",i.version)},build:function t(i,o){i=i||this.init(),o=o||!0,this.buildBase(i),e.storage.set(i,o)},rebuild:function t(){var i=this.init();this.buildBase(i),e.storage.reset(i,!0)},update:function t(){var i=e.storage.get("urbrowser"),o=this.init(),r=!1;i&&i.getBreakpointRange&&i.getBreakpointRange===o.getBreakpointRange&&i.getBrowserVersion.int&&i.getBrowserVersion.int===o.getBrowserVersion.int||(r=!0),r&&(e.cache=o,this.build(o,r))},diff:function t(i){var o=e.storage.get(),r=i||e.cookies.get()[0],s=JSON.stringify(this.init());return!(o==s&&r==s)},resizing:function t(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=e.root,r=this.init();i||o.setAttribute("data-bp",r.getBreakpointRange),e.storage.set(r,i)},run:function i(){var o=void 0;if(void 0===window.addEventListener||"undefined"==typeof JSON||"undefined"==typeof localStorage)this.buildBase();else{var r=e.storage.get("json"),s=e.cookies.get();r?(s.length>1&&(e.cookies.remove(),s=e.cookies.get()[0]),this.diff(s)?this.update():this.buildBase(r)):this.build(),window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(function(){t.resizing(!1)},150)},!1)}}};e.originClasses=e.root.className,e.res.getNameByAgent=e.getNameByAgent(),e.res.getBrowserVersionByName=e.getBrowserVersionByName(),e.res.getBrowserWithCoreName=e.getBrowserWithCoreName(),e.res.getPlatform=e.getPlatform(),e.res.getOSName=e.getOSName(),e.res.getOSVersion=e.getOSVersion(),e.res.getBrowserName=e.getBrowserName(),e.res.getBrowserFullVersion=e.getBrowserFullVersion(),e.res.getDevice=e.getDevice(),e.res.getOrientation=e.getOrientation(),e.res.getBreakpointRange=e.getBreakpointRange(),e.res.isInApp=e.isInApp(),e.res.isWebView=e.isWebView(),t.run()}(window);