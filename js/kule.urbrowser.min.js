!function(){"use strict";const e=document.documentElement,t=navigator.userAgent?navigator.userAgent.toLowerCase():null,a=document.currentScript||document.querySelector("#urbrowser")||document.querySelector('script[src*="urbrowser"]'),s={},o={xs:0,sm:576,md:768,lg:992,xl:1200},i={app:"1password|arora|alienblue|amaya|baidu(boxapp)?((\\.|\\w)+)?|beetalk|checkme|collectd|electron|eve-igb|(fb[a|s]v)|flipboard|frontpage(\\sexpress)?|google(.maps|\\searth(\\spro)?|weblight)|gsa|instagram|itunes|kakaotalk|line(at|\\s)?(\\/)?\\d|linkedin|mail|micromessenger|msoffice|panascoutpro|pinterest|qq(\\W)|safepay|secondlife|snapchat|spotify|spray-can|tableaumobile|thunderbird|topbuzz|twitter|twstockapp|viber|weatherreport|weibo|winamp|yahoo(\\.|\\w){0,}|yrcweblinkpreview|zhihu|(microsoft|office)?\\s(access|excel|lync|office|onenote|outlook(\\s(calendar|mail))?(-express)?|powerpoint|project|publisher|visio|word)",browser:"(126|1337|aloha|atomic|aw|dorado\\swap-|inettv|lb|miui|mqq|naenara|nintendo|obigo(internet)|one|oppo|ovi|qt(car)?|qq|samsung|slim|sogoumobile|uc(\\s)?|up\\.|webos|ya|yolo)browser|acheetahi|adobeair|amaya|aol|awesomium|avant(go)?|band|bluechrome|blazer|bonecho|brave|camino|chimera|chromeplus|chromium|coda|coder\\snut|cometbird|comodo((_|\\s)dragon)*|coolnovo|dillo|dolfin|dooble|dragon|ekiohflow|elinks|epiphany|fennec|firebird|firefox|\\sfocus|flashfire|flock|\\sflow\\/|fxios|galeon|icab|ice(ape|dragon|weasel)|iemobile|\\siron|javafx|k-meleon|kazehakase|konqueror|lunascape|lynx|maxthon|mercury|midori|minefield|mms|mosaic|msie|mx(browser|ios)|netsurf|novarra-vision|obigo|omniweb|origin|palemoon|phoenix|playstation(\\s)?(portable|vita)?(\\s\\d+)?|puffin|quark|qupzilla|raptr|reactornetty|rekonq|rockmelt|ruxitsynthetic|seamonkey|shiretoko|silk|skyfire|sleipnir|songbird|stagefright|super(hk)?|tableau((\\s|_)?public)?|teashark|tesla(_|[a-zA-Z])*|tencenttraveler|tenfourfox|vienna|vivaldi|waterfox|webpositive|wyzo",browserAlias:"(fb[a|s]v)|fxios|edg|mx(browser|ios)|acheetahi|(mqq|lb|sogoumobile|oppo|miui|samsung|ya|yolo|aloha)browser",webkit:"edg(a|e|ios)?|chrome|crios|version|safari",engine:"webkit|trident|gecko|presto|netfront|goanna",webview:"apache|cordova|nodejs|phonegap|react|webview",platform:"android|bada|beos|dalvik|darwin|haiku|hpwos|ip(hone|(a|o)d)|irix(64)?|kaios|kindle|klifd|nintendo(\\s)?(3ds|wii(u)?)?|playstation|rim\\stablet\\sos|tizen|windows|(free|open|net)bsd",bot:"(\\w)-google|google((bot(-(image|mobile|news|video))?)|imageproxy|-(\\w)|\\s(favicon))|(200please|abacho|addsugar|ado|aihit|anyapex|archive\\.org_|bebop|become|beslist|bitly|blitz|bradstreet|brightlocal|career|catch|centric|check|cliqz|cocolyze|crawler|diff|disco(rd)?|domain\\sre-animator\\s|dot|echo|finditanswers|flinkhub|gethpinfo\\.com|grapes|hlsh|idealo|index|info|isec(\\w|\\d|_)*|jooble|jyxo|kantarsifomediaaudit|letsearch|link(edin|is)|lxr|makemoneyteamwork|maui|meanpath|netpeak(checker)?|o|odkl|onb|quicksprout|redirect|sc|schema|snap|survey|techiejobs|telegram|tiger|tweetmeme|twitter|tzt-securityscan|web)(spider)?(-|_)?bot|(commoncontent|grapeshot)(\\s)?crawl(er)?|(360|jike|soso)spider|(b|l|i|t|z|o|-){15}|(i)?earthworm|80legs|accoona-(ai|biz)-agent|admantx(-(\\w)*)?|ahrefs(bot|siteaudit)?|alexa(\\ssite\\saudit|\\w*)?(\\s(site|audit))?|amazon(\\w)+|android(\\w)+|apple(core(\\w)*|bot)+|arachmo|baidu(mobaider|spider-\\w*)|bing(bot|preview)*|boitho\\.com-dc|broadsign\\sxpress|castbox|catchpoint|charlotte|chrome-lighthouse|(squid)?clamav(_|\\w)*|collectd|convera|cosmos|covario(\\s)?(-|\\w)*|curl|dataparksearch|dejaclick|dmbrowser|dragonfly|duckduck(go)?(-|\\w)+|earthcom\\.info|embeddedwb|envolk|evaliant|exabot(-|\\w)*|exb\\slanguage|facebookexternalhit|fast(\\s(enterprise|metaweb)|-web)|fdse|findlinks|genieo|go-http-client|gomezagent|gtmetrix|headlesschrome|htt(pclient|punit|rack)|ia_archiver|jakarta|jeeves|jikespider|linkcheck|lua|megaindex|mewe|mj12bot|msnbot(-media)?|netseer|nutch|okhttp|panscient|phantomjs|pinterest(bot)?|postman|proximic|ptst|searchhelper|semrushbot(-sa)?|sitemonitor(\\.py)?|slackbot(-|\\w)*|slurp|(new|-)*sogou(-|\\s|\\w)*spider|squider|ssl\\slabs|swami|teomabar|unwindfetchor|voilabot\\s?(beta)?|w3c(-|\\w)*|webindexer|wget|widget|y(!(\\w|-)*|search)|(yahoo(!)?(:|-|\\w)*(\\s((\\w|\\s)*crawler|mindset|pipes|slurp))+|slurp)|yandex(\\w)*|yodao(\\w|-)*|zgrab|zoominfo",botAlias:"accoona|admantx|ahrefs|alexa|amazon|android|apple|baidu|bing|boitho|duckduck|facebook|google|headless|msn|semrush|slack|sogou|w3c|yahoo",android:"acer|asus|huawei|htc|lg|miui|oppo|samsung|sharp|sony|xiaomi",tv:"crkey|netcast|smarttv|webtv",mobile:"ip(hone|(a|o)d)|android|blackberry|mobile|tablet|touch|phone|kindle",linux:"centos|debian|deepin|ezgo|hiweed|mint|redhat|startos|ubuntu|unicos"},r={discobot:"discovery","exabot-images":"exalead","exabot-thumbnails":"exalead",ia_archiver:"alexaBot",mj12bot:"majestic-12",searchhelper:"safariBot",slurp:"yahooBot",swami:"yahooBot","y!":"yahooBot"},n=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l={},b=e.className,m=s.isBuiltInApp=RegExp(i.app+"|"+i.webview).test(t),d=s.isBot=/robot|spider|analyzer|crawler|\+?http(s)?:\/\/(\w|\.)*/.test(t)||RegExp(i.bot).test(t);s.isInApp=!!RegExp(i.app).test(t)&&s.getOSName,s.isWebView=!!RegExp(i.webview).test(t)&&(-1!=t.indexOf("ios")?"ios":-1!=t.indexOf("android")?"android":"unknown");const p=()=>{const e=o,t=n();let a;switch(!0){case t<e.sm:a="xs";break;case t>=e.sm&&t<e.md:a="sm";break;case t>=e.md&&t<e.lg:a="md";break;case t>=e.lg&&t<e.xl:a="lg";break;default:a="xl"}s.getBreakpointRange=a},w=e=>{const t={crkey:"chromecast"};return t[e]?t[e]:e},h={get(e="string"){let t=localStorage.getItem("urbrowser");return"json"===e?JSON.parse(t):t},set(e=null,t=!1){if(e){let s=a.getAttribute("data-reload");t=s?"true"===s:t,localStorage.removeItem("urbrowser"),e=JSON.stringify(e),localStorage.setItem("urbrowser",e)}else localStorage.removeItem()},reset(e){a.getAttribute("data-reload");localStorage.removeItem("urbrowser"),e=JSON.stringify(e),localStorage.setItem("urbrowser",e)}};(()=>{let e=m?t.match(new RegExp(i.app,"i")):t.match(new RegExp(i.browser+"|"+i.app+"|"+i.webview,"i")),a=null;switch(d&&(i.bot+="|butterfly"),!0){case RegExp(i.bot).test(t):a=t.match(RegExp(i.bot))[0],d=!0;break;case e instanceof Array:switch(e=e[0],!0){case/line(at)?/.test(e):a=e.match(/line(at)?/)[0];break;case RegExp(e).test(i.bot):a=t.match(RegExp(i.bot))?t.match(RegExp(i.bot))[0]:e,d=!0;break;default:a=e.replace(/(microsoft|office)\s/,"")}break;case/op(r|era|ios|t)/.test(t):a=t.match(/op(r|era|ios|t)/i)?t.match(/op(r|era|ios|t)/i)[0]:"version";break;case/trident|(windows)+.*[\s|;]rv(:)?/.test(t):a=/(\s|;)rv:/.test(t)?"rv:":"rv";break;case/blackberry\d*/.test(t):a="blackberry8520";break;case RegExp(i.webkit).test(t):let s=i.webkit.split("|");for(let e=0,o=s.length;e<o;e++)if(t.match(s[e])){a=s[e];break}break;default:let o=t.match(i.engine);a=o?o[0]:null}s.getNameByAgent=a})(),(()=>{let e=s.getNameByAgent,a=t.replace(/<.*>/,""),o={int:"",full:""};function i(e){if(e){let t=e.length;t="rv:"===e?t-1:t;let s=a.substr(a.search(e)+t,20),i=/(\d(\.)?)*/g,r=(s=+s.charAt(0)?s:s.substr(1)).match(i)[0];o.int=parseInt(r,10),o.full=r}return o}if(e&&!((o=i(e)).int>=0)){let t={"80legs":"008",google:"googlebot",jakarta:"client",lua:"http","msnbot-media":"msnbot-media\\s",qq:"mqqbrowser","ssl labs":"of",topbuzz:"newsrepublic","valve steam":"gameoverlay",weibo:"_weibo_","y!":"y!j-asr",yahoo:"yjtop",zhihu:"futureve"}[e]||(d?"crawler":"chrome");o=i(t)}s.getBrowserVersionByName=o})(),(()=>{const e=s.getNameByAgent,a=e?e.match(RegExp(i.browserAlias,"i")):null;let o=t.match(RegExp(i.engine));o=o?o[0]:"webkit";let n=e||null,c="",l=s.getBrowserVersionByName;if(l=l?l.int?l.int:l.full:null,a){switch(n=a[0],!0){case/fb[a|s]v/.test(n):n="facebook";break;case/edg/.test(n):n="edge";break;case/mx(browser|ios)/.test(n):n="maxthon";break;case/acheetahi/.test(n):n="armorfly";break;case/fxios/.test(n):n="firefox";break;case/browser/.test(n):n={lb:"leibao",sogoumobile:"sogou",ya:"yandex",mqq:"qq"}[n=n.replace(/browser/,"")]||n}l="twitter"===n?null:l}else switch(!0){case RegExp(i.bot).test(t):o="bot";let a=t.match(RegExp(i.bot));if(a=a?a[0]:null){let e=a.match(i.botAlias);n=e?e[0]+"Bot":r[a]||a}else n=r[a]||a;d=!0;break;case/firefox/.test(e):o=/gecko/.test(t)?"gecko":"webkit";break;case/op(r|era|ios|t)|coast|mms/.test(e):n="opera",o=/applewebkit/.test(t)?"webkit":"presto",c="coast"===e?"coast":"mms"===e?"opera-neon":"";break;case/version|chrome|crios|safari/.test(e):switch(!0){case/c(hrome|rios)/.test(e):n="chrome";break;case"version"===e&&RegExp(i.mobile).test(t):n="builtin";break;default:n="safari"}break;case/msie|rv|iemobile/.test(e):o="ie",n=null;break;case/baidu|yahoo/.test(e):n=e.match(/baidu|yahoo/)[0];break;default:let s=!!e&&e.match(RegExp(i.webview,"i"));o="webkit",s?(-1!==t.indexOf("-android")?n=s[0]+"-adr "+s[0]:-1!==t.indexOf("-ios")&&(n=s[0]+"-ios "+s[0]),l=null):/iemobile|msie/.test(t)?o="ie":/applewebkit/.test(t)&&(/c(hrome|rios)/.test(t)?c="chrome":/version/.test(t)?c+=RegExp(i.mobile).test(t)?" builtin":" safari":c+="safari")}c=/chrome/.test(t)&&!/chrome/.test(c)&&c.length?"chrome":c,c=/^edge$/.test(n)?"":c;let b=n?n.split(" "):null,m=(b?b[0]:o)+l,p=(n||"")+(m?" "+m:"")+(c?" "+c:"")+(o?" "+o:"");p=p.replace(/^\s+|\s+$/g,""),s.getBrowserWithCoreName={origin:n||o,name:m,core:o,addon:c,full:p},s.getBrowserWithCoreName})(),(()=>{let e=t.match(RegExp(i.platform,"i")),a=null;switch(!0){case e instanceof Array:e=e[0],a=d&&(a=t.match(RegExp(i.bot)))?a[0]:e;break;case RegExp(i.bot).test(t):a=t.match(RegExp(i.bot))[0];break;case/arm/.test(t):a=/windows\s(phone|nt)|iemobile/.test(t)?"wp":/android/.test(t)?"android":"arm";break;case/linux/.test(t):switch(!0){case/cros/.test(t):a="chromeos";break;case/(?=.*windows)(?=.*mxbrowser)|android/.test(t):a="android";break;case/pike/.test(t):a="iphone";break;case/ip(hone|ad|od)/.test(t):a=t.match(/ip(hone|ad|od)/)[0];break;default:a="linux"}break;case/iphone|pike/.test(t):a="iphone";break;case/mac(intel|intosh|ppc68k){0,}/.test(t):a="mac";break;case/x11|hp-ux/.test(t):a=/cros/.test(t)?"chromeos":"unix";break;case/sunos/.test(t):a="solaris";break;case/playstation|psp/.test(t):a="playstation";break;case/(palm|web)os/.test(t):a="palm";break;case/s60|symbian|\\bseries\\b/.test(t):a="symbian";break;case/windows\s(ce|mobile|phone|(nt\s6\.[23];\sarm))|(zune|xbl)wp|iemobile/.test(t):a="wp";break;case/windows\snt\s\d+\.\d+/.test(t):a="windows";break;case/android/.test(t):a="android";break;case/u;\sblackberry|bb|blackberry(\d*)?/.test(t):a="blackberry"}s.getPlatform=a})(),(()=>{let e;if(d)e=s.getBrowserWithCoreName.origin;else{const a=s.getPlatform;switch(!0){case/ip(hone|ad|od)/.test(a):e="ios";break;case"windows"===a&&/windows\snt/.test(t):e=/tablet/.test(t)?"wt":"windows";break;case"klifd"===a:e="firefoxos";break;case"hpwos"===a:e="hpwebos";break;case/irix/.test(a):e="irix";break;case RegExp(i.android).test(t):e="android";break;case"linux"===a:let s=t.match(RegExp(i.linux));e=s?s[0]:a;break;case RegExp(i.bot).test(a):e=r[a]||(a.match(RegExp(i.botAlias))?a.match(RegExp(i.botAlias))[0]+"Bot":a.match(RegExp(i.bot))[0]);break;default:e=a||"Unknown"}}s.getOSName=e})(),(()=>{let e;if(d)e=s.getBrowserVersionByName?s.getBrowserVersionByName.full:"";else{const a=s.getPlatform;let o,i=s.getOSName;switch(i=i?i.toLowerCase():i,!0){case"wp"===i:o=/windows\s(ce.*(ppc|smartphone|mobile|[0-9]{3}x[0-9]{3})|mobile)|wce;/.test(t)?"windows mobile":"windows phone";break;case"iphone"===a||/iphone/.test(t):o=/ipad/.test(t)?"cpu os":"iphone os";break;case"ipad"===a||/ipad/.test(t):o="cpu os";break;case"ipod"===a||/ipod/.test(t):o="ipod os";break;case"mac"===i:o="mac os x";break;case"chromeos"===i:o="cros i686";break;case/windows|wt/.test(i):o=/windows\snt\s?/.test(t)?"windows nt":"windows";break;case/blackberry/.test(i):o=/u;\sblackberry/.test(t)?"u; blackberry":/bb/.test(t)?"bb":i;break;default:o=a}const r=e=>{if(e){const a=/(\d+(_|\.)?)*/g;let s=t.match(e)?t.match(e)[0].length:e.length,o=t.substr(t.search(e)+s,10);return o=(o=(o=(o=+o.charAt(0)?o:o.substr(1)).replace(/(\)|\(|;)/g,"")).match(a)?o.match(a)[0]:"").replace(/_+/g,".")}return null};if(!(e=r(o))){e=r({android:"zhihu"===s.getBrowserWithCoreName.origin?/\sandroid\s/:/system\/android/,"iphone os":"ios","mac os x":"mac os","y!":"y!j-asr"}[o])}e=e||""}s.getOSVersion=e})(),(()=>{let e=s.getBrowserWithCoreName,t=e.origin;s.getBrowserName={name:t,origin:b,classes:e.full}})(),(()=>{let e=s.getBrowserVersionByName;e=e&&+e.full?e.full:"unknown",s.getBrowserFullVersion=e})(),(()=>{const e=s.getPlatform,a=s.getOSName;let o=e;o=d?"bot":t.match(RegExp(i.tv))?"tv":t.match(RegExp(i.mobile))||a.match(RegExp(i.mobile))?"mobile":RegExp(i.mobile).test(e)?"mobile":"desktop",s.getDeviceType=o||null})(),(()=>{const e=s.getPlatform,a=s.getDeviceType;let o=e;if(d)o="bot";else if("mobile"===a)switch(e){case"bb":o="blackberry";break;default:o=t.match(RegExp(i.android))?t.match(RegExp(i.android))[0]:e}else"tv"===a&&(o=t.match(RegExp(i.tv))?t.match(RegExp(i.tv))[0]:e,o=w(o));s.getDevice=o||null})(),(()=>{let e=n()>=c()?"landscape":"portrait",t="orientation"in window?window.orientation:window.screen.orientation?window.screen.orientation.angle:null;t&&(e=Math.abs(t)/90%2?"portrait":"landscape"),s.orientation=e})(),p();const u={project:{name:"urBrowser",version:"4.3.5",author:"Kei Cheng",github:"https://github.com/kuletw/urbrowser",website:"http://urbrowser.kule.tw",facebook:"https://www.facebook.com/kule.tw",license:"MIT License"},init(){return(l=JSON.parse(JSON.stringify(s))).project=this.project.name,l.version=this.project.version,l.author=this.project.author,l.classes=[],l.classes.push(s.getDevice),l.classes.push(s.getBrowserName.classes),s.isInApp&&l.classes.push("inApp"),s.isWebView&&l.classes.push("isWebview"),l.classes=l.classes.join(" "),l},buildBase(t=null){t=t||this.init(),e.id=t.getOSName,e.className=(b?b+" ":"")+t.classes+" "+t.getDeviceType,e.setAttribute("data-browser-name",t.getBrowserName.name),e.setAttribute("data-browser-version",t.getBrowserVersionByName.full),e.setAttribute("data-browser-core",t.getBrowserWithCoreName.core),e.setAttribute("data-os-name",t.getOSName),e.setAttribute("data-os-version",t.getOSVersion),e.setAttribute("data-device-name",t.getDevice),e.setAttribute("data-device-type",t.getDeviceType),e.setAttribute("data-breakpoint",t.getBreakpointRange),e.setAttribute("data-inapp",t.isInApp),e.setAttribute("data-iswebview",t.isWebView),e.setAttribute("data-ub-version",t.version)},build:function(e=null,t=!0){e=e||this.init(),this.buildBase(e),h.set(e,t)},rebuild:function(){const e=this.init();this.buildBase(e),h.reset(e,!0)},resizing(t=!1){const a=this.init();t||(p(),e.setAttribute("data-breakpoint",a.getBreakpointRange)),h.set(a,t)},run(){let e;if(void 0===window.addEventListener||"undefined"==typeof JSON||"undefined"==typeof localStorage)this.buildBase();else{h.get("json");this.build(),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){u.resizing(!1),clearTimeout(e)}),150)}),!1)}}};u.run()}(window);
