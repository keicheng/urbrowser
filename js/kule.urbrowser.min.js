!function(){"use strict";const e=document.documentElement,t=navigator.userAgent?navigator.userAgent.toLowerCase():null,a={},o={xs:0,sm:576,md:768,lg:992,xl:1200},s={app:"1password|arora|alienblue|amaya|baidu(boxapp)?((\\.|\\w)+)?|beetalk|checkme|collectd|electron|eve-igb|(fb[a|s]v)|flipboard|frontpage(\\sexpress)?|google(.maps|\\searth(\\spro)?|weblight)|gsa|instagram|itunes|kakaotalk|line(at|\\s)?(\\/)?\\d|linkedin|mail|micromessenger|msoffice|panascoutpro|pinterest|qq(\\W)|safepay|secondlife|snapchat|spotify|spray-can|tableaumobile|thunderbird|topbuzz|twitter|twstockapp|viber|weatherreport|weibo|winamp|yahoo(\\.|\\w){0,}|yrcweblinkpreview|zhihu|(microsoft|office)?\\s(access|excel|lync|office|onenote|outlook(\\s(calendar|mail))?(-express)?|powerpoint|project|publisher|visio|word)",browser:"(126|1337|aloha|atomic|aw|dorado\\swap-|inettv|lb|miui|mqq|naenara|nintendo|obigo(internet)|one|oppo|ovi|qt(car)?|qq|samsung|slim|sogoumobile|uc(\\s)?|up\\.|webos|ya|yolo)browser|acheetahi|adobeair|amaya|aol|awesomium|avant(go)?|band|bluechrome|blazer|bonecho|brave|camino|chimera|chromeplus|chromium|coda|coder\\snut|cometbird|comodo((_|\\s)dragon)*|coolnovo|dillo|dolfin|dooble|dragon|ekiohflow|elinks|epiphany|fennec|firebird|firefox|\\sfocus|flashfire|flock|\\sflow\\/|fxios|galeon|icab|ice(ape|dragon|weasel)|iemobile|\\siron|javafx|k-meleon|kazehakase|konqueror|lunascape|lynx|maxthon|mercury|midori|minefield|mms|mosaic|msie|mx(browser|ios)|netsurf|novarra-vision|obigo|omniweb|origin|palemoon|phoenix|playstation(\\s)?(portable|vita)?(\\s\\d+)?|puffin|quark|qupzilla|raptr|reactornetty|rekonq|rockmelt|ruxitsynthetic|seamonkey|shiretoko|silk|skyfire|sleipnir|songbird|stagefright|super(hk)?|tableau((\\s|_)?public)?|teashark|tesla(_|[a-zA-Z])*|tencenttraveler|tenfourfox|vienna|vivaldi|waterfox|webpositive|wyzo",browserAlias:"(fb[a|s]v)|fxios|edg|mx(browser|ios)|acheetahi|(mqq|lb|sogoumobile|oppo|miui|samsung|ya|yolo|aloha)browser",webkit:"edga|edge|edgios|edg|chrome|crios|version|safari",engine:"webkit|trident|gecko|presto|netfront|goanna",webview:"apache|cordova|nodejs|phonegap|react|webview",platform:"android|bada|beos|dalvik|darwin|haiku|hpwos|ip(hone|(a|o)d)|irix(64)?|kaios|kindle|klifd|nintendo(\\s)?(3ds|wii(u)?)?|playstation|rim\\stablet\\sos|tizen|windows|(free|open|net)bsd",bot:"(\\w)-google|google((bot(-(image|mobile|news|video))?)|imageproxy|-(\\w)|\\s(favicon))|(200please|abacho|addsugar|ado|aihit|anyapex|archive\\.org_|bebop|become|beslist|bitly|blitz|bradstreet|brightlocal|career|catch|centric|check|cliqz|cocolyze|crawler|diff|disco(rd)?|domain\\sre-animator\\s|dot|echo|finditanswers|flinkhub|gethpinfo\\.com|grapes|hlsh|idealo|index|info|isec(\\w|\\d|_)*|jooble|jyxo|kantarsifomediaaudit|letsearch|link(edin|is)|lxr|makemoneyteamwork|maui|meanpath|netpeak(checker)?|o|odkl|onb|quicksprout|redirect|sc|schema|snap|survey|techiejobs|telegram|tiger|tweetmeme|twitter|tzt-securityscan|web)(spider)?(-|_)?bot|(commoncontent|grapeshot)(\\s)?crawl(er)?|(360|jike|soso)spider|(b|l|i|t|z|o|-){15}|(i)?earthworm|80legs|accoona-(ai|biz)-agent|admantx(-(\\w)*)?|ahrefs(bot|siteaudit)?|alexa(\\ssite\\saudit|\\w*)?(\\s(site|audit))?|amazon(\\w)+|android(\\w)+|apple(core(\\w)*|bot)+|arachmo|baidu(mobaider|spider-\\w*)|bing(bot|preview)*|boitho\\.com-dc|broadsign\\sxpress|castbox|catchpoint|charlotte|chrome-lighthouse|(squid)?clamav(_|\\w)*|collectd|convera|cosmos|covario(\\s)?(-|\\w)*|curl|dataparksearch|dejaclick|dmbrowser|dragonfly|duckduck(go)?(-|\\w)+|earthcom\\.info|embeddedwb|envolk|evaliant|exabot(-|\\w)*|exb\\slanguage|facebookexternalhit|fast(\\s(enterprise|metaweb)|-web)|fdse|findlinks|genieo|go-http-client|gomezagent|gtmetrix|headlesschrome|htt(pclient|punit|rack)|ia_archiver|jakarta|jeeves|jikespider|linkcheck|lua|megaindex|mewe|mj12bot|msnbot(-media)?|netseer|nutch|okhttp|panscient|phantomjs|pinterest(bot)?|postman|proximic|ptst|searchhelper|semrushbot(-sa)?|sitemonitor(\\.py)?|slackbot(-|\\w)*|slurp|(new|-)*sogou(-|\\s|\\w)*spider|squider|ssl\\slabs|swami|teomabar|unwindfetchor|voilabot\\s?(beta)?|w3c(-|\\w)*|webindexer|wget|widget|y(!(\\w|-)*|search)|(yahoo(!)?(:|-|\\w)*(\\s((\\w|\\s)*crawler|mindset|pipes|slurp))+|slurp)|yandex(\\w)*|yodao(\\w|-)*|zgrab|zoominfo",botAlias:"accoona|admantx|ahrefs|alexa|amazon|android|apple|baidu|bing|boitho|duckduck|facebook|google|headless|msn|semrush|slack|sogou|w3c|yahoo",android:"acer|asus|huawei|htc|lg|miui|oppo|samsung|sharp|sony|xiaomi",tv:"crkey|netcast|smarttv|webtv",mobile:"ip(hone|(a|o)d)|android|blackberry|mobile|tablet|touch|phone|kindle",linux:"centos|debian|deepin|ezgo|hiweed|mint|redhat|startos|ubuntu|unicos",opera:"op(r|era|ios|t)"},i={discobot:"discovery","exabot-images":"exalead","exabot-thumbnails":"exalead",ia_archiver:"alexaBot",mj12bot:"majestic-12",searchhelper:"safariBot",slurp:"yahooBot",swami:"yahooBot","y!":"yahooBot"},r=()=>window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=()=>window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c={},l=e.className,b=a.isBuiltInApp=RegExp(s.app+"|"+s.webview).test(t),m=a.isBot=/robot|spider|analyzer|crawler|\+?http(s)?:\/\/(\w|\.)*/.test(t)||RegExp(s.bot).test(t);a.isInApp=!!RegExp(s.app).test(t)&&a.getOSName,a.isWebView=!!RegExp(s.webview).test(t)&&(-1!=t.indexOf("ios")?"ios":-1!=t.indexOf("android")?"android":"unknown");const d=()=>{const e=o,t=r();let s;switch(!0){case t<e.sm:s="xs";break;case t>=e.sm&&t<e.md:s="sm";break;case t>=e.md&&t<e.lg:s="md";break;case t>=e.lg&&t<e.xl:s="lg";break;default:s="xl"}a.getBreakpointRange=s},p=e=>{const t={crkey:"chromecast"};return t[e]?t[e]:e},w={get(e="string"){if("undefined"!=typeof JSON&&"undefined"!=typeof localStorage){let t=localStorage.getItem("urbrowser");return"json"===e?JSON.parse(t):t}return null},set(e=null){"undefined"!=typeof JSON&&"undefined"!=typeof localStorage&&(e?(localStorage.removeItem("urbrowser"),e=JSON.stringify(e),localStorage.setItem("urbrowser",e)):localStorage.removeItem("urbrowser"))}};(()=>{let e=b?t.match(new RegExp(s.app,"i")):t.match(new RegExp(s.browser+"|"+s.app+"|"+s.webview,"i")),o=null;switch(m&&(s.bot+="|butterfly"),!0){case RegExp(s.bot).test(t):o=t.match(RegExp(s.bot))[0],m=!0;break;case e instanceof Array:switch(e=e[0],!0){case/line(at)?/.test(e):o=e.match(/line(at)?/)[0];break;case RegExp(e).test(s.bot):o=t.match(RegExp(s.bot))?t.match(RegExp(s.bot))[0]:e,m=!0;break;default:o=e.replace(/(microsoft|office)\s/,"")}break;case RegExp(s.opera).test(t):o=t.match(RegExp(s.opera,"i"))?t.match(RegExp(s.opera,"i"))[0]:"version";break;case/trident|(windows)+.*[\s|;]rv(:)?/.test(t):o=/(\s|;)rv:/.test(t)?"rv:":"rv";break;case/blackberry\d*/.test(t):o="blackberry8520";break;case RegExp(s.webkit).test(t):let a=s.webkit.split("|");for(let e=0,s=a.length;e<s;e++)if(t.match(a[e])){o=a[e];break}break;default:let i=t.match(s.engine);o=i?i[0]:null}a.getNameByAgent=o})(),(()=>{let e=a.getNameByAgent,o=t.replace(/<.*>/,""),s={int:"",full:""};function i(e){if(e){let t=e.length;t="rv:"===e?t-1:t;let a=o.substr(o.search(e)+t,20),i=/(\d(\.)?)*/g,r=(a=+a.charAt(0)?a:a.substr(1)).match(i)[0];s.int=parseInt(r,10),s.full=r}return s}if(e&&!((s=i(e)).int>=0)){let t={"80legs":"008",google:"googlebot",jakarta:"client",lua:"http","msnbot-media":"msnbot-media\\s",qq:"mqqbrowser","ssl labs":"of",topbuzz:"newsrepublic","valve steam":"gameoverlay",weibo:"_weibo_","y!":"y!j-asr",yahoo:"yjtop",zhihu:"futureve"}[e]||(m?"crawler":"chrome");s=i(t)}a.getBrowserVersionByName=s})(),(()=>{const e=a.getNameByAgent,o=e?e.match(RegExp(s.browserAlias,"i")):null;let r=t.match(RegExp(s.engine));r=r?r[0]:"webkit";let n=e||null,c="",l=a.getBrowserVersionByName;if(l=l?l.int?l.int:l.full:null,o){switch(n=o[0],!0){case/fb[a|s]v/.test(n):n="facebook";break;case/edg/.test(n):n="edge";break;case/mx(browser|ios)/.test(n):n="maxthon";break;case/acheetahi/.test(n):n="armorfly";break;case/fxios/.test(n):n="firefox";break;case/browser/.test(n):n={lb:"leibao",sogoumobile:"sogou",ya:"yandex",mqq:"qq"}[n=n.replace(/browser/,"")]||n}l="twitter"===n?null:l}else switch(!0){case RegExp(s.bot).test(t):r="bot";let a=t.match(RegExp(s.bot));if(a=a?a[0]:null){let e=a.match(s.botAlias);n=e?e[0]+"Bot":i[a]||a}else n=i[a]||a;m=!0;break;case/firefox/.test(e):r=/gecko/.test(t)?"gecko":"webkit";break;case RegExp(s.opera+"|coast|mms").test(e):n="opera",r=/applewebkit/.test(t)?"webkit":"presto",c="coast"===e?"coast":"mms"===e?"opera-neon":"";break;case/version|chrome|crios|safari/.test(e):switch(!0){case/c(hrome|rios)/.test(e):n="chrome";break;case"version"===e&&RegExp(s.mobile).test(t):n="builtin";break;default:n="safari"}break;case/msie|rv|iemobile/.test(e):r="ie",n=null;break;case/baidu|yahoo/.test(e):n=e.match(/baidu|yahoo/)[0];break;default:let o=!!e&&e.match(RegExp(s.webview,"i"));r="webkit",o?(-1!==t.indexOf("-android")?n=o[0]+"-adr "+o[0]:-1!==t.indexOf("-ios")&&(n=o[0]+"-ios "+o[0]),l=null):/iemobile|msie/.test(t)?r="ie":/applewebkit/.test(t)&&(/c(hrome|rios)/.test(t)?c="chrome":/version/.test(t)?c+=RegExp(s.mobile).test(t)?" builtin":" safari":c+="safari")}c=/chrome/.test(t)&&!/chrome/.test(c)&&c.length?"chrome":c,c=/^edge$/.test(n)?"":c;let b=n?n.split(" "):null,d=(b?b[0]:r)+l,p=(n||"")+(d?" "+d:"")+(c?" "+c:"")+(r?" "+r:"");p=p.replace(/^\s+|\s+$/g,""),a.getBrowserWithCoreName={origin:n||r,name:d,core:r,addon:c,full:p},a.getBrowserWithCoreName})(),(()=>{let e=t.match(RegExp(s.platform,"i")),o=null;switch(!0){case e instanceof Array:e=e[0],o=m&&(o=t.match(RegExp(s.bot)))?o[0]:e;break;case RegExp(s.bot).test(t):o=t.match(RegExp(s.bot))[0];break;case/arm/.test(t):o=/windows\s(phone|nt)|iemobile/.test(t)?"wp":/android/.test(t)?"android":"arm";break;case/linux/.test(t):switch(!0){case/cros/.test(t):o="chromeos";break;case/(?=.*windows)(?=.*mxbrowser)|android/.test(t):o="android";break;case/pike/.test(t):o="iphone";break;case/ip(hone|ad|od)/.test(t):o=t.match(/ip(hone|ad|od)/)[0];break;default:o="linux"}break;case/iphone|pike/.test(t):o="iphone";break;case/mac(intel|intosh|ppc68k){0,}/.test(t):o="mac";break;case/x11|hp-ux/.test(t):o=/cros/.test(t)?"chromeos":"unix";break;case/sunos/.test(t):o="solaris";break;case/playstation|psp/.test(t):o="playstation";break;case/(palm|web)os/.test(t):o="palm";break;case/s60|symbian|\\bseries\\b/.test(t):o="symbian";break;case/windows\s(ce|mobile|phone|(nt\s6\.[23];\sarm))|(zune|xbl)wp|iemobile/.test(t):o="wp";break;case/windows\snt\s\d+\.\d+/.test(t):o="windows";break;case/android/.test(t):o="android";break;case/u;\sblackberry|bb|blackberry(\d*)?/.test(t):o="blackberry"}a.getPlatform=o})(),(()=>{let e;if(m)e=a.getBrowserWithCoreName.origin;else{const o=a.getPlatform;switch(!0){case/ip(hone|ad|od)/.test(o):e="ios";break;case"windows"===o&&/windows\snt/.test(t):e=/tablet/.test(t)?"wt":"windows";break;case"klifd"===o:e="firefoxos";break;case"hpwos"===o:e="hpwebos";break;case/irix/.test(o):e="irix";break;case RegExp(s.android).test(t):e="android";break;case"linux"===o:let a=t.match(RegExp(s.linux));e=a?a[0]:o;break;case RegExp(s.bot).test(o):e=i[o]||(o.match(RegExp(s.botAlias))?o.match(RegExp(s.botAlias))[0]+"Bot":o.match(RegExp(s.bot))[0]);break;default:e=o||"Unknown"}}a.getOSName=e})(),(()=>{let e;if(m)e=a.getBrowserVersionByName?a.getBrowserVersionByName.full:"";else{const o=a.getPlatform;let s,i=a.getOSName;switch(i=i?i.toLowerCase():i,!0){case"wp"===i:s=/windows\s(ce.*(ppc|smartphone|mobile|[0-9]{3}x[0-9]{3})|mobile)|wce;/.test(t)?"windows mobile":"windows phone";break;case"iphone"===o||/iphone/.test(t):s=/ipad/.test(t)?"cpu os":"iphone os";break;case"ipad"===o||/ipad/.test(t):s="cpu os";break;case"ipod"===o||/ipod/.test(t):s="ipod os";break;case"mac"===i:s="mac os x";break;case"chromeos"===i:s="cros i686";break;case/windows|wt/.test(i):s=/windows\snt\s?/.test(t)?"windows nt":"windows";break;case/blackberry/.test(i):s=/u;\sblackberry/.test(t)?"u; blackberry":/bb/.test(t)?"bb":i;break;default:s=o}const r=e=>{if(e){const a=/(\d+(_|\.)?)*/g;let o=t.match(e)?t.match(e)[0].length:e.length,s=t.substr(t.search(e)+o,10);return s=(s=(s=(s=+s.charAt(0)?s:s.substr(1)).replace(/(\)|\(|;)/g,"")).match(a)?s.match(a)[0]:"").replace(/_+/g,".")}return null};if(!(e=r(s))){e=r({android:"zhihu"===a.getBrowserWithCoreName.origin?/\sandroid\s/:/system\/android/,"iphone os":"ios","mac os x":"mac os","y!":"y!j-asr"}[s])}e=e||""}a.getOSVersion=e})(),(()=>{let e=a.getBrowserWithCoreName,t=e.origin;a.getBrowserName={name:t,origin:l,classes:e.full}})(),(()=>{let e=a.getBrowserVersionByName;e=e&&+e.full?e.full:"unknown",a.getBrowserFullVersion=e})(),(()=>{const e=a.getPlatform,o=a.getOSName;let i=e;i=m?"bot":t.match(RegExp(s.tv))?"tv":t.match(RegExp(s.mobile))||o.match(RegExp(s.mobile))?"mobile":RegExp(s.mobile).test(e)?"mobile":"desktop",a.getDeviceType=i||null})(),(()=>{const e=a.getPlatform,o=a.getDeviceType;let i=e;if(m)i="bot";else if("mobile"===o)switch(e){case"bb":i="blackberry";break;default:i=t.match(RegExp(s.android))?t.match(RegExp(s.android))[0]:e}else"tv"===o&&(i=t.match(RegExp(s.tv))?t.match(RegExp(s.tv))[0]:e,i=p(i));a.getDevice=i||null})(),(()=>{let e=r()>=n()?"landscape":"portrait",t="orientation"in window?window.orientation:window.screen.orientation?window.screen.orientation.angle:null;t&&(e=Math.abs(t)/90%2?"portrait":"landscape"),a.orientation=e})(),d();const h={project:{name:"urBrowser",version:"4.3.7",author:"Kei Cheng",github:"https://github.com/kuletw/urbrowser",website:"https://urbrowser.kule.tw",facebook:"https://www.facebook.com/kule.tw",license:"MIT License"},init(){return(c="undefined"==typeof JSON?a:JSON.parse(JSON.stringify(a))).project=this.project.name,c.version=this.project.version,c.author=this.project.author,c.classes=[],c.classes.push(a.getDevice),c.classes.push(a.getBrowserName.classes),a.isInApp&&c.classes.push("inApp"),a.isWebView&&c.classes.push("isWebview"),c.classes=c.classes.join(" "),c},build:function(t=null){t=t||this.init(),e.id=t.getOSName,e.className=(l?l+" ":"")+t.classes+" "+t.getDeviceType,e.setAttribute("data-browser-name",t.getBrowserName.name),e.setAttribute("data-browser-version",t.getBrowserVersionByName.full),e.setAttribute("data-browser-core",t.getBrowserWithCoreName.core),e.setAttribute("data-os-name",t.getOSName),e.setAttribute("data-os-version",t.getOSVersion),e.setAttribute("data-device-name",t.getDevice),e.setAttribute("data-device-type",t.getDeviceType),e.setAttribute("data-breakpoint",t.getBreakpointRange),e.setAttribute("data-inapp",t.isInApp),e.setAttribute("data-iswebview",t.isWebView),e.setAttribute("data-ub-version",t.version),w.set(t)},rebuild:function(){const e=this.init();this.build(e),w.set(e)},resizing(){const t=this.init();d(),e.setAttribute("data-breakpoint",t.getBreakpointRange),w.set(t)},run(){let e;this.build(),void 0!==window.addEventListener&&window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){h.resizing(),clearTimeout(e)}),150)}),!1)}};h.run()}(window);
